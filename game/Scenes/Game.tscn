[gd_scene load_steps=4 format=2]

[ext_resource path="res://Scenes/Room.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/GameUI.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/Game.gd" type="Script" id=3]

[node name="Game" type="Node"]
script = ExtResource( 3 )
__meta__ = {
"_editor_description_": "The game scene connects the room and the UI together, and handles the connection and disconnection of multiplayer peers."
}

[node name="Room" parent="." instance=ExtResource( 1 )]

[node name="GameUI" parent="." instance=ExtResource( 2 )]

[node name="ConnectingDialog" type="PopupDialog" parent="."]
margin_right = 200.0
margin_bottom = 40.0
popup_exclusive = true

[node name="Label" type="Label" parent="ConnectingDialog"]
anchor_right = 1.0
anchor_bottom = 1.0
text = "Connecting to the server..."
align = 1
valign = 1

[node name="TableStateErrorDialog" type="AcceptDialog" parent="."]
margin_right = 300.0
margin_bottom = 180.0
rect_min_size = Vector2( 300, 180 )
window_title = "Error!"
dialog_autowrap = true

[node name="TableStateVersionDialog" type="ConfirmationDialog" parent="."]
margin_right = 300.0
margin_bottom = 180.0
rect_min_size = Vector2( 300, 180 )
dialog_autowrap = true
[connection signal="applying_options" from="GameUI" to="." method="_on_GameUI_applying_options"]
[connection signal="load_table" from="GameUI" to="." method="_on_GameUI_load_table"]
[connection signal="piece_requested" from="GameUI" to="." method="_on_GameUI_piece_requested"]
[connection signal="rotation_amount_updated" from="GameUI" to="Room" method="_on_GameUI_rotation_amount_updated"]
[connection signal="save_table" from="GameUI" to="." method="_on_GameUI_save_table"]
[connection signal="confirmed" from="TableStateVersionDialog" to="." method="_on_TableStateVersionDialog_confirmed"]
